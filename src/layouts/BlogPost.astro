---
import { setTitle } from "../config";
import Layout from "./Layout.astro";

export interface Props {
  content: {
    title: string;
    description: string;
    pubDate?: string;
    updatedDate?: string;
    heroImage?: string;
  };
}

const {
  content: { title, description, pubDate, updatedDate, heroImage },
} = Astro.props;
---

<Layout title={setTitle(title)} description={description}>
  <style>
    .hero-image {
      display: block;
    }

    main {
      padding-left: 0;
      padding-right: 0;
    }

    .pub-date,
    .updated-date,
    .article-content {
      padding-left: var(--spacing);
      padding-right: var(--spacing);
    }

    @media (max-width: 47.99em) {
      .title {
        margin-left: 0;
        margin-right: 0;
      }
    }

    @media (min-width: 48em) {
      .title {
        padding-left: var(--spacing);
        padding-right: var(--spacing);
      }
    }
  </style>

  <main>
    <article>
      {
        heroImage && (
          <img
            class="hero-image"
            width={720}
            height={360}
            src={heroImage}
            alt=""
          />
        )
      }
      <h1 class="title">{title}</h1>
      {
        pubDate && (
          <p class="pub-date">
            <time>{pubDate}</time>
          </p>
        )
      }
      {
        updatedDate && (
          <p class="updated-date">
            Last updated on <time>{updatedDate}</time>
          </p>
        )
      }
      <hr />
      <div class="article-content">
        <slot />
      </div>
    </article>
  </main>
</Layout>
